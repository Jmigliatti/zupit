<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title> Offer first step </title>
        <link href="{{ url_for('static', path='/style.css') }}" rel="stylesheet">
    </head>
    <body user_id="{{ user.id }}">
        <section class="">
            {% include 'navbar.html' %}
            <h1>Informação do Carro para a viagem</h1>
            <form id="car-form">
                <h4>Carro:</h4>

                <label for="car">Escolha o Carro:</label>
                <select id="car" name="car" required>
                    <option value="" disabled selected>Selecione um carro</option>
                </select><br><br>

                <a class="button3" href="/car">Cadastre seu carro</a>

                <label for="space">Quantidade de Vagas:</label>
                <input type="number" id="space" name="space" min="1" max="4" placeholder="" required><br><br>

                <button type="button" onclick="save_form()">Próximo</button>
            </form>
            <a class="button3" href="javascript:history.back()">Voltar</a>
        </section>

        <script src="{{ url_for('static', path='/script.js') }}"></script>
        <script>
            document.addEventListener('DOMContentLoaded', function () {
                const user_id = document.body.getAttribute('user_id');
                fetchCars(user_id);
            });

            function save_form() {
                const renavam = document.getElementById('car').value;
                const space = document.getElementById('space').value;

                sessionStorage.setItem(
                    'first', 
                    JSON.stringify({
                        renavam: renavam,
                        space: space 
                    })
                );
                window.location.href = '/second.html';
            }
        </script>
    </body>
</html>
